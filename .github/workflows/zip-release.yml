name: Create ZIP for Release

on:
  release:
    types: [published]  # Run when you publish a new release

jobs:
  zip_files:
    runs-on: ubuntu-latest
    permissions:
      contents: write    # ðŸ”‘ This fixes the "Resource not accessible" error
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Create ZIP
        run: |
          zip ghostAPT.zip ghostAPT.sh data.lib interface.lib

      - name: Upload ZIP
        uses: actions/upload-release-asset@v1
        with:
          upload_url: ${{ github.event.release.upload_url }}
          asset_path: ./ghostAPT.zip
          asset_name: ghostAPT.zip
          asset_content_type: application/zip
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}   
